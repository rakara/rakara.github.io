<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <meta name="theme-color" content="#0f1117"/>
  <title>TickRide Admin â€” Analytics</title>
  <link rel="icon" type="image/png" href="/ride/icons/favicon.png"/>
  <link rel="manifest" href="manifest.json"/>
  <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=DM+Mono:wght@400;500&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="admin.css"/>
</head>
<body>
<div class="shell">
  <aside class="sidebar">
    <div class="sidebar-brand"><span class="brand-icon">â¬¡</span><div><div class="brand-name">TickRide</div><div class="brand-role">Admin Console</div></div></div>
    <nav class="sidebar-nav">
      <div class="nav-group-label">Main</div>
      <a href="index.html"      class="nav-link"><span class="ni">â–¦</span> Overview</a>
      <a href="trips.html"      class="nav-link"><span class="ni">ğŸ—º</span> Live Trips</a>
      <a href="analytics.html"  class="nav-link active"><span class="ni">ğŸ“ˆ</span> Analytics</a>
      <div class="nav-group-label">People</div>
      <a href="riders.html"     class="nav-link"><span class="ni">ğŸ‘¤</span> Riders</a>
      <a href="drivers.html"    class="nav-link"><span class="ni">ğŸš—</span> Drivers</a>
      <div class="nav-group-label">Finance</div>
      <a href="payments.html"   class="nav-link"><span class="ni">ğŸ’³</span> Payments</a>
      <a href="promotions.html" class="nav-link"><span class="ni">ğŸ</span> Promotions</a>
      <div class="nav-group-label">System</div>
      <a href="settings.html"   class="nav-link"><span class="ni">âš™ï¸</span> Settings</a>
    </nav>
    <div class="sidebar-footer"><div class="admin-avatar">SA</div><div><div class="admin-name">Super Admin</div><a href="../login.html" class="logout-link">Sign out â†’</a></div></div>
  </aside>
  <div class="main">
    <header class="topbar">
      <div><h1 class="page-title">Analytics</h1><p class="page-sub">Platform performance overview</p></div>
      <div class="topbar-actions">
        <select class="card-select" style="padding:9px 14px;border-radius:10px;font-size:13px"><option>Last 30 days</option><option>Last 7 days</option><option>This Year</option></select>
        <button class="btn-ghost">â¬‡ Export</button>
        <div class="notif-btn">ğŸ””<span class="notif-dot"></span></div>
      </div>
    </header>

    <div class="content-wrap">
      <!-- Top stats -->
      <div class="stat-strip">
        <div class="stat-tile"><div class="stat-tile-value" style="color:var(--amber)">KSh 98.4M</div><div class="stat-tile-label">Total Revenue â€” 2025</div></div>
        <div class="stat-tile"><div class="stat-tile-value" style="color:var(--green)">128,400</div><div class="stat-tile-label">Total Trips â€” 2025</div></div>
        <div class="stat-tile"><div class="stat-tile-value" style="color:var(--blue)">4.82 â­</div><div class="stat-tile-label">Platform Avg Rating</div></div>
      </div>

      <!-- Revenue + type split -->
      <div class="charts-row">
        <div class="chart-card wide">
          <div class="card-header">
            <span class="card-title">Monthly Revenue â€” 2025</span>
            <select class="card-select"><option>2025</option><option>2024</option></select>
          </div>
          <canvas id="revenueBar" height="120"></canvas>
        </div>
        <div class="chart-card">
          <div class="card-header"><span class="card-title">Revenue by Tier</span></div>
          <canvas id="typeDonut" height="160"></canvas>
          <div class="donut-legend">
            <span class="dl-item"><span class="dl-dot" style="background:#ffb400"></span>TickX 54%</span>
            <span class="dl-item"><span class="dl-dot" style="background:#00ff88"></span>TickShare 21%</span>
            <span class="dl-item"><span class="dl-dot" style="background:#00b4ff"></span>TickXL 15%</span>
            <span class="dl-item"><span class="dl-dot" style="background:#b450ff"></span>TickPremium 10%</span>
          </div>
        </div>
      </div>

      <!-- Hour + Growth -->
      <div class="charts-row">
        <div class="chart-card">
          <div class="card-header"><span class="card-title">Peak Hours (avg trips/hour)</span></div>
          <canvas id="hourBar" height="120"></canvas>
        </div>
        <div class="chart-card">
          <div class="card-header"><span class="card-title">New User Signups â€” Monthly</span></div>
          <canvas id="userLine" height="120"></canvas>
        </div>
      </div>

      <!-- Zone + completion -->
      <div class="bottom-row">
        <div class="table-card">
          <div class="card-header"><span class="card-title">Top Pickup Zones</span></div>
          <table class="data-table">
            <thead><tr><th>Zone</th><th>Trips</th><th>Revenue</th><th>Avg Fare</th><th>Share</th></tr></thead>
            <tbody>
              <tr><td><b>Westlands</b></td><td>18,420</td><td class="mono">KSh 14.2M</td><td class="mono">KSh 771</td><td><div style="display:flex;align-items:center;gap:8px"><div style="width:60px;height:6px;background:var(--bg2);border-radius:3px"><div style="width:82%;height:100%;background:var(--amber);border-radius:3px"></div></div>82%</div></td></tr>
              <tr><td><b>CBD</b></td><td>15,100</td><td class="mono">KSh 9.8M</td><td class="mono">KSh 649</td><td><div style="display:flex;align-items:center;gap:8px"><div style="width:60px;height:6px;background:var(--bg2);border-radius:3px"><div style="width:67%;height:100%;background:var(--amber);border-radius:3px"></div></div>67%</div></td></tr>
              <tr><td><b>Kilimani</b></td><td>12,800</td><td class="mono">KSh 8.1M</td><td class="mono">KSh 633</td><td><div style="display:flex;align-items:center;gap:8px"><div style="width:60px;height:6px;background:var(--bg2);border-radius:3px"><div style="width:57%;height:100%;background:var(--amber);border-radius:3px"></div></div>57%</div></td></tr>
              <tr><td><b>Karen</b></td><td>9,200</td><td class="mono">KSh 7.6M</td><td class="mono">KSh 826</td><td><div style="display:flex;align-items:center;gap:8px"><div style="width:60px;height:6px;background:var(--bg2);border-radius:3px"><div style="width:41%;height:100%;background:var(--amber);border-radius:3px"></div></div>41%</div></td></tr>
              <tr><td><b>Upperhill</b></td><td>7,840</td><td class="mono">KSh 5.9M</td><td class="mono">KSh 753</td><td><div style="display:flex;align-items:center;gap:8px"><div style="width:60px;height:6px;background:var(--bg2);border-radius:3px"><div style="width:35%;height:100%;background:var(--amber);border-radius:3px"></div></div>35%</div></td></tr>
            </tbody>
          </table>
        </div>
        <div class="right-col">
          <div class="mini-card">
            <div class="card-header"><span class="card-title">Completion Rate</span></div>
            <canvas id="completionDonut" height="130"></canvas>
            <div class="donut-legend" style="justify-content:center;margin-top:10px">
              <span class="dl-item"><span class="dl-dot" style="background:var(--green)"></span>Completed 91%</span>
              <span class="dl-item"><span class="dl-dot" style="background:var(--red)"></span>Cancelled 9%</span>
            </div>
          </div>
          <div class="mini-card">
            <div class="card-header"><span class="card-title">Driver Utilisation</span></div>
            <canvas id="utilLine" height="100"></canvas>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
<script src="admin.js"></script>
<script>
Chart.defaults.color = '#8a91a8';
Chart.defaults.borderColor = '#2a2f3f';

new Chart(document.getElementById('revenueBar'),{type:'bar',data:{labels:['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],datasets:[{label:'Revenue (KSh)',data:[5800000,6200000,7100000,6900000,8200000,8800000,9100000,8400000,9600000,10200000,11400000,6700000],backgroundColor:'rgba(255,180,0,0.75)',borderRadius:6,borderSkipped:false}]},options:{plugins:{legend:{display:false}},scales:{x:{grid:{color:'rgba(255,255,255,0.04)'},ticks:{color:'#545c73'}},y:{grid:{color:'rgba(255,255,255,0.04)'},ticks:{color:'#545c73',callback:v=>'KSh '+(v/1000000).toFixed(1)+'M'}}}}});

new Chart(document.getElementById('typeDonut'),{type:'doughnut',data:{labels:['TickX','TickShare','TickXL','TickPremium'],datasets:[{data:[54,21,15,10],backgroundColor:['#ffb400','#00ff88','#00b4ff','#b450ff'],borderWidth:0,hoverOffset:8}]},options:{cutout:'72%',plugins:{legend:{display:false}}}});

new Chart(document.getElementById('hourBar'),{type:'bar',data:{labels:['5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23'],datasets:[{data:[20,55,180,340,260,140,120,200,180,160,240,310,420,380,260,200,160,120,80],backgroundColor:'rgba(0,180,255,0.65)',borderRadius:4,borderSkipped:false}]},options:{plugins:{legend:{display:false}},scales:{x:{grid:{color:'rgba(255,255,255,0.03)'},ticks:{color:'#545c73'}},y:{grid:{color:'rgba(255,255,255,0.03)'},ticks:{color:'#545c73'}}}}});

new Chart(document.getElementById('userLine'),{type:'line',data:{labels:['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],datasets:[{data:[820,940,1100,980,1340,1500,1640,1420,1820,2140,2480,1900],borderColor:'#00ff88',backgroundColor:'rgba(0,255,136,0.07)',tension:0.4,fill:true,pointBackgroundColor:'#00ff88',pointRadius:4,pointHoverRadius:6}]},options:{plugins:{legend:{display:false}},scales:{x:{grid:{color:'rgba(255,255,255,0.03)'},ticks:{color:'#545c73'}},y:{grid:{color:'rgba(255,255,255,0.03)'},ticks:{color:'#545c73'}}}}});

new Chart(document.getElementById('completionDonut'),{type:'doughnut',data:{labels:['Completed','Cancelled'],datasets:[{data:[91,9],backgroundColor:['#00ff88','#ff3b5c'],borderWidth:0}]},options:{cutout:'72%',plugins:{legend:{display:false}}}});

new Chart(document.getElementById('utilLine'),{type:'line',data:{labels:['Mon','Tue','Wed','Thu','Fri','Sat','Sun'],datasets:[{data:[72,78,68,82,88,94,61],borderColor:'#b450ff',backgroundColor:'rgba(180,80,255,0.07)',tension:0.4,fill:true,pointBackgroundColor:'#b450ff',pointRadius:4}]},options:{plugins:{legend:{display:false}},scales:{x:{grid:{color:'rgba(255,255,255,0.03)'},ticks:{color:'#545c73'}},y:{grid:{color:'rgba(255,255,255,0.03)'},ticks:{color:'#545c73',callback:v=>v+'%'},min:0,max:100}}}});
</script>
</body></html>
